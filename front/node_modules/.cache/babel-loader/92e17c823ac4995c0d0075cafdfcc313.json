{"ast":null,"code":"var _jsxFileName = \"/Users/juancarlossilva/Documents/apps/backend-test/front/src/components/WithdrawalInvestiment.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Grid, Button, TextField } from \"@mui/material\";\nimport { useLocation, Link } from \"react-router-dom\";\nimport { MobileDatePicker, LocalizationProvider } from '@mui/lab';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport ptBR from 'date-fns/locale/pt-BR';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function WithdrawalInvestiment() {\n  _s();\n\n  var props = useLocation();\n  var row = props.state.row;\n  var retProp = props.state.ret;\n  var nome = props.state.nome;\n  const [message, setMessage] = useState(\"\");\n  const [data, setData] = useState(new Date());\n  const [ret, setRet] = useState(retProp);\n  const [permitirRetirada, setPermitirRetirada] = useState(true);\n\n  async function atualizaValores() {\n    var investiments = await fetch(\"http://localhost:8080/api/invest/\" + row.id + \"?dataWithdrawn=\" + data);\n    var res = await investiments.json();\n    setRet(res);\n\n    switch (investiments.status) {\n      case 400:\n        setMessage(res.message);\n        setPermitirRetirada(false);\n        break;\n\n      case 201:\n        setMessage(\"\");\n        setPermitirRetirada(true); // window.history.back();\n\n        break;\n    }\n  }\n\n  async function salvar() {\n    var x = await fetch(\"http://localhost:8080/api/invest/withdrawal\", {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      method: \"POST\",\n      body: JSON.stringify({\n        id_invest: row.id,\n        dataWithdrawn: data,\n        valueWithdrawn: ret.result,\n        dateInvest: row.dateInvest\n      })\n    });\n    console.log(x);\n    var res = await x.json();\n    console.log(res);\n\n    switch (x.status) {\n      case 400:\n        setMessage(res.message);\n        break;\n\n      case 201:\n        setMessage(\"SUCESSO!\");\n        window.location.href = \"/\";\n        break;\n\n      case 500:\n        setMessage(res.message);\n        break;\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"home\",\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      onClick: function voltar() {\n        window.history.back();\n      },\n      children: \"voltar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Retirar o investimento de \", nome]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Valor de Investimento Inicial: R$ \", row.valueInvest]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this), \"                    \", /*#__PURE__*/_jsxDEV(\"small\", {\n          children: \"Selecione a data de retirada do investimento\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 97\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 156\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 161\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(LocalizationProvider, {\n            dateAdapter: AdapterDateFns,\n            locale: ptBR,\n            children: /*#__PURE__*/_jsxDEV(MobileDatePicker, {\n              label: \"Insira a data da retirada do Investimento\",\n              value: data,\n              onChange: newValue => {\n                setData(newValue);\n                atualizaValores();\n              },\n              renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 54\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"M\\xEAses fechados: \", ret.total]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Rendimento Bruto: \", ret.lucroBruto]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Imposto a ser aplicado: \", ret.imposto]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 18\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Valor atual com rentabilidade: R$ \", ret.result]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: \"Valor j\\xE1 com a dedu\\xE7\\xE3o de impostos.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 18\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: [permitirRetirada && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          onClick: salvar,\n          color: \"success\",\n          children: \"Confirmar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n}\n\n_s(WithdrawalInvestiment, \"tTBPbkjBiY9Ma77uBjjpKszicWM=\", false, function () {\n  return [useLocation];\n});\n\n_c = WithdrawalInvestiment;\n\nvar _c;\n\n$RefreshReg$(_c, \"WithdrawalInvestiment\");","map":{"version":3,"sources":["/Users/juancarlossilva/Documents/apps/backend-test/front/src/components/WithdrawalInvestiment.js"],"names":["React","useState","Grid","Button","TextField","useLocation","Link","MobileDatePicker","LocalizationProvider","AdapterDateFns","ptBR","WithdrawalInvestiment","props","row","state","retProp","ret","nome","message","setMessage","data","setData","Date","setRet","permitirRetirada","setPermitirRetirada","atualizaValores","investiments","fetch","id","res","json","status","salvar","x","headers","method","body","JSON","stringify","id_invest","dataWithdrawn","valueWithdrawn","result","dateInvest","console","log","window","location","href","voltar","history","back","valueInvest","newValue","params","total","lucroBruto","imposto"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\nimport {Grid,Button, TextField} from \"@mui/material\"\nimport {useLocation,Link} from \"react-router-dom\";\nimport {MobileDatePicker,LocalizationProvider} from '@mui/lab';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport ptBR from 'date-fns/locale/pt-BR';\n\n\nexport default function WithdrawalInvestiment(){\n    var props = useLocation();\n    var row = (props.state.row);\n    var retProp = (props.state.ret);\n    var nome = (props.state.nome);\n\n    const [message,setMessage] = useState(\"\")\n    const [data, setData] = useState(new Date());\n    const [ret,setRet] = useState(retProp);\n    const [permitirRetirada,setPermitirRetirada] = useState(true);\n\n    async function atualizaValores(){\n        var investiments = await fetch(\"http://localhost:8080/api/invest/\"+row.id+\"?dataWithdrawn=\"+data)\n        \n        var res = await investiments.json()\n        setRet(res);\n        switch(investiments.status){\n            case 400:\n                setMessage(res.message);\n                setPermitirRetirada(false);\n            break;\n            case 201:\n                setMessage(\"\");\n                setPermitirRetirada(true);\n                // window.history.back();\n            break;\n           \n        }\n    }\n\n    async function salvar(){\n            \n            var x = await fetch(\"http://localhost:8080/api/invest/withdrawal\",{\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n              },\n              method:\"POST\",\n              body:JSON.stringify({\n                id_invest:row.id,\n                dataWithdrawn:data,\n                valueWithdrawn:ret.result,\n                dateInvest:row.dateInvest\n              })\n            })\n            console.log(x);\n            var res = await x.json();\n            console.log(res)\n            switch(x.status){\n                case 400:\n                    setMessage(res.message);\n                    break;\n                case 201:\n                    setMessage(\"SUCESSO!\");\n                    window.location.href=\"/\"\n                    break;\n                case 500:\n                    setMessage(res.message);\n                    break;\n            }\n    }\n\n    return(    \n        <div class=\"home\">\n            <Button onClick={function voltar(){window.history.back()}}>voltar</Button>\n        <Grid container spacing={2}>\n            <Grid item xs={12}>\n                <h3>Retirar o investimento de {nome}</h3>\n            </Grid>\n            <Grid item xs={12}>\n                <h3>Valor de Investimento Inicial: R$ {row.valueInvest}</h3>                    <small>Selecione a data de retirada do investimento</small><br/><br/>\n                <Grid item xs={12}>\n                    <LocalizationProvider dateAdapter={AdapterDateFns} locale={ptBR}>\n                        <MobileDatePicker\n                            label=\"Insira a data da retirada do Investimento\"\n                            value={data}\n                            onChange={(newValue) => {\n                                setData(newValue);\n                                atualizaValores();\n                            }}\n                            renderInput={(params) => <TextField {...params} />}\n                        />\n                    </LocalizationProvider>\n                </Grid>\n                 <h3>Mêses fechados: {ret.total}</h3>\n            \n                 <h3>Rendimento Bruto: {ret.lucroBruto}</h3>\n           \n                 <h3>Imposto a ser aplicado: {ret.imposto}</h3>\n             </Grid>\n             <Grid item xs={12}>\n                 <h3>Valor atual com rentabilidade: R$ {ret.result}</h3>\n                 <small>Valor já com a dedução de impostos.</small>\n             </Grid>\n            <Grid item xs={12}>\n                { permitirRetirada &&\n                    <Button variant=\"outlined\" onClick={salvar} color=\"success\">Confirmar</Button>\n\n                }\n                <h3>{message}</h3>\n            </Grid>\n        </Grid>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}