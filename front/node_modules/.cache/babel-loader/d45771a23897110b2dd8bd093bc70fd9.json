{"ast":null,"code":"import * as React from 'react';\nimport { useUtils } from './useUtils';\nimport { validateDate, validateDateRange } from '../date-utils';\nimport { validateDateTime } from '../date-time-utils';\nimport { validateTime } from '../time-utils';\n\nfunction isSameDateOrTimeError(a, b) {\n  return a === b;\n}\n\nfunction isSameDateRangeError(a, b) {\n  return b !== null && a[1] === b[1] && a[0] === b[0];\n}\n\nfunction useValidation(props, validate) {\n  let isSameError = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : isSameDateOrTimeError;\n  const {\n    value,\n    onError\n  } = props;\n  const utils = useUtils();\n  const previousValidationErrorRef = React.useRef(null);\n  const validationError = validate(utils, value, props);\n  React.useEffect(() => {\n    if (onError && !isSameError(validationError, previousValidationErrorRef.current)) {\n      onError(validationError, value);\n    }\n\n    previousValidationErrorRef.current = validationError;\n  }, [isSameError, onError, previousValidationErrorRef, validationError, value]);\n  return validationError;\n}\n\nexport function useTimeValidation(props) {\n  return useValidation(props, validateTime, isSameDateOrTimeError);\n}\nexport function useDateValidation(props) {\n  return useValidation(props, validateDate, isSameDateOrTimeError);\n}\nexport function useDateTimeValidation(props) {\n  return useValidation(props, validateDateTime, isSameDateOrTimeError);\n}\nexport function useDateRangeValidation(props) {\n  return useValidation(props, validateDateRange, isSameDateRangeError);\n}","map":{"version":3,"sources":["/Users/juancarlossilva/Documents/apps/backend-test/front/node_modules/@mui/lab/internal/pickers/hooks/useValidation.js"],"names":["React","useUtils","validateDate","validateDateRange","validateDateTime","validateTime","isSameDateOrTimeError","a","b","isSameDateRangeError","useValidation","props","validate","isSameError","value","onError","utils","previousValidationErrorRef","useRef","validationError","useEffect","current","useTimeValidation","useDateValidation","useDateTimeValidation","useDateRangeValidation"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,QAAyB,YAAzB;AACA,SAASC,YAAT,EAAuBC,iBAAvB,QAAgD,eAAhD;AACA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,SAASC,YAAT,QAA6B,eAA7B;;AAEA,SAASC,qBAAT,CAA+BC,CAA/B,EAAkCC,CAAlC,EAAqC;AACnC,SAAOD,CAAC,KAAKC,CAAb;AACD;;AAED,SAASC,oBAAT,CAA8BF,CAA9B,EAAiCC,CAAjC,EAAoC;AAClC,SAAOA,CAAC,KAAK,IAAN,IAAcD,CAAC,CAAC,CAAD,CAAD,KAASC,CAAC,CAAC,CAAD,CAAxB,IAA+BD,CAAC,CAAC,CAAD,CAAD,KAASC,CAAC,CAAC,CAAD,CAAhD;AACD;;AAED,SAASE,aAAT,CAAuBC,KAAvB,EAA8BC,QAA9B,EAA6E;AAAA,MAArCC,WAAqC,uEAAvBP,qBAAuB;AAC3E,QAAM;AACJQ,IAAAA,KADI;AAEJC,IAAAA;AAFI,MAGFJ,KAHJ;AAIA,QAAMK,KAAK,GAAGf,QAAQ,EAAtB;AACA,QAAMgB,0BAA0B,GAAGjB,KAAK,CAACkB,MAAN,CAAa,IAAb,CAAnC;AACA,QAAMC,eAAe,GAAGP,QAAQ,CAACI,KAAD,EAAQF,KAAR,EAAeH,KAAf,CAAhC;AACAX,EAAAA,KAAK,CAACoB,SAAN,CAAgB,MAAM;AACpB,QAAIL,OAAO,IAAI,CAACF,WAAW,CAACM,eAAD,EAAkBF,0BAA0B,CAACI,OAA7C,CAA3B,EAAkF;AAChFN,MAAAA,OAAO,CAACI,eAAD,EAAkBL,KAAlB,CAAP;AACD;;AAEDG,IAAAA,0BAA0B,CAACI,OAA3B,GAAqCF,eAArC;AACD,GAND,EAMG,CAACN,WAAD,EAAcE,OAAd,EAAuBE,0BAAvB,EAAmDE,eAAnD,EAAoEL,KAApE,CANH;AAOA,SAAOK,eAAP;AACD;;AAED,OAAO,SAASG,iBAAT,CAA2BX,KAA3B,EAAkC;AACvC,SAAOD,aAAa,CAACC,KAAD,EAAQN,YAAR,EAAsBC,qBAAtB,CAApB;AACD;AACD,OAAO,SAASiB,iBAAT,CAA2BZ,KAA3B,EAAkC;AACvC,SAAOD,aAAa,CAACC,KAAD,EAAQT,YAAR,EAAsBI,qBAAtB,CAApB;AACD;AACD,OAAO,SAASkB,qBAAT,CAA+Bb,KAA/B,EAAsC;AAC3C,SAAOD,aAAa,CAACC,KAAD,EAAQP,gBAAR,EAA0BE,qBAA1B,CAApB;AACD;AACD,OAAO,SAASmB,sBAAT,CAAgCd,KAAhC,EAAuC;AAC5C,SAAOD,aAAa,CAACC,KAAD,EAAQR,iBAAR,EAA2BM,oBAA3B,CAApB;AACD","sourcesContent":["import * as React from 'react';\nimport { useUtils } from './useUtils';\nimport { validateDate, validateDateRange } from '../date-utils';\nimport { validateDateTime } from '../date-time-utils';\nimport { validateTime } from '../time-utils';\n\nfunction isSameDateOrTimeError(a, b) {\n  return a === b;\n}\n\nfunction isSameDateRangeError(a, b) {\n  return b !== null && a[1] === b[1] && a[0] === b[0];\n}\n\nfunction useValidation(props, validate, isSameError = isSameDateOrTimeError) {\n  const {\n    value,\n    onError\n  } = props;\n  const utils = useUtils();\n  const previousValidationErrorRef = React.useRef(null);\n  const validationError = validate(utils, value, props);\n  React.useEffect(() => {\n    if (onError && !isSameError(validationError, previousValidationErrorRef.current)) {\n      onError(validationError, value);\n    }\n\n    previousValidationErrorRef.current = validationError;\n  }, [isSameError, onError, previousValidationErrorRef, validationError, value]);\n  return validationError;\n}\n\nexport function useTimeValidation(props) {\n  return useValidation(props, validateTime, isSameDateOrTimeError);\n}\nexport function useDateValidation(props) {\n  return useValidation(props, validateDate, isSameDateOrTimeError);\n}\nexport function useDateTimeValidation(props) {\n  return useValidation(props, validateDateTime, isSameDateOrTimeError);\n}\nexport function useDateRangeValidation(props) {\n  return useValidation(props, validateDateRange, isSameDateRangeError);\n}"]},"metadata":{},"sourceType":"module"}